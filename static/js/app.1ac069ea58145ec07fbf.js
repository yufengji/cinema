webpackJsonp([1],{"/5Wq":function(t,e){},"/8cM":function(t,e){},"0zb/":function(t,e){},"34KM":function(t,e){},"3Hpq":function(t,e){t.exports="data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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"},"6bX4":function(t,e){},ET0k:function(t,e){},GYdp:function(t,e){},HFS4:function(t,e){},JOoE:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={};i.d(s,"title",function(){return Kt}),i.d(s,"city",function(){return $t}),i.d(s,"goseats",function(){return Xt}),i.d(s,"scheduleid",function(){return te});var a=i("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=i("VU/8")({name:"App"},n,!1,function(t){i("RieN")},null,null).exports,r=i("/ocq"),c=i("Dd8w"),l=i.n(c),u=i("9rMa");function d(t,e){if(!m(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}}function m(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}function h(t,e){for(var i=t.className.split(" "),s=[],a=0;a<i.length;a++)i[a]!==e&&s.push(i[a]);t.className=s.join(" ")}var v={props:{showoverlay:{type:Boolean,default:!1}},methods:{closeASide:function(){var t=this;h(this.$refs.Asides,"aside-show"),setTimeout(function(){t.showasideflag=!1},400)}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"Asides",staticClass:"aside"},[i("div",{staticClass:"sidebar-container"},[i("div",{staticClass:"sidebar-overlay",on:{click:t.closeASide}}),t._v(" "),i("div",{staticClass:"nav"},[i("ul",[i("li",[i("router-link",{attrs:{to:"/home"}},[t._v("首页")]),i("i",{staticClass:"iconfont icon-right"})],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/film"}},[t._v("影片")]),i("i",{staticClass:"iconfont icon-right"})],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/allcinema"}},[t._v("影院")]),i("i",{staticClass:"iconfont icon-right"})],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/center"}},[t._v("我的")]),i("i",{staticClass:"iconfont icon-right"})],1),t._v(" "),t._m(0)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"javascript:;"}},[this._v("卖座卡")]),e("i",{staticClass:"iconfont icon-right"})])}]};var p=i("VU/8")(v,f,!1,function(t){i("XX31")},"data-v-ef428bb4",null).exports;function _(t,e,i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3);var a="expires="+s.toGMTString();document.cookie=t+"="+escape(e)+";"+a}function g(t){for(var e=document.cookie.split("; "),i=0;i<e.length;i++){var s=e[i].split("=");if(s[0]===t)return"cityName"===t?unescape(s[1]):s[1]}return""}function C(t){var e=new Date;e.setTime(e.getTime()-864e5);var i="expires="+e.toGMTString(),s=g(t);null!==s&&(document.cookie=t+"="+escape(s)+";"+i)}var A={computed:l()({},Object(u.b)(["title","city"])),components:{HAside:p},data:function(){return{showasideflag:!1}},created:function(){""===g("cityName")?(_("cityName","厦门",1),_("cityId","34",1)):this.SET_CITY(g("cityName"))},methods:l()({goLink:function(){this.SET_TITLE("选择城市"),this.$router.push({path:"/city"})},showAside:function(){var t=this;this.showasideflag=!0,setTimeout(function(){var e=t.$refs.Asides.$el;m(e,"aside-show")?(h(e,"aside-show"),setTimeout(function(){t.showasideflag=!1},400)):d(e,"aside-show")},0)}},Object(u.c)({SET_TITLE:"SET_TITLE",SET_CITY:"SET_CITY"}))},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"h-title"},[i("div",{staticClass:"toolbar-title-icon",on:{click:t.showAside}},[i("i",{staticClass:"iconfont icon-zhankai1"})]),t._v(" "),i("div",{staticClass:"toolbar-title"},[t._v("\n      "+t._s(t.title)+"\n    ")])]),t._v(" "),i("div",{staticClass:"nav-right"},[i("a",{staticClass:"city",attrs:{href:"javascript:;"},on:{click:t.goLink}},[i("span",{staticClass:"city-content"},[t._v(t._s(t.city))]),t._v(" "),i("i",{staticClass:"iconfont icon-zhankai"})]),t._v(" "),i("router-link",{staticClass:"user",attrs:{to:"/center"}},[i("i",{staticClass:"iconfont icon-yonghu"})])],1),t._v(" "),t.showasideflag?i("h-aside",{ref:"Asides"}):t._e()],1)},staticRenderFns:[]};var w=i("VU/8")(A,y,!1,function(t){i("6bX4")},"data-v-17b6197d",null).exports,T=i("NcNO");i("0zb/");var E={components:{Swipe:T.Swipe,SwipeItem:T.SwipeItem},props:{billboards:{type:Array,default:function(){return[]}}}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return this.billboards.length?e("div",{staticClass:"swiper"},[e("swipe",{staticClass:"my-swipe",attrs:{showIndicators:!1}},this._l(this.billboards,function(t,i){return e("swipe-item",{key:i,staticClass:"slide1"},[e("img",{attrs:{src:t.imageUrl}})])}))],1):this._e()},staticRenderFns:[]};var b=i("VU/8")(E,S,!1,function(t){i("pvG3")},"data-v-7899a10c",null).exports,I=i("//Fk"),k=i.n(I),D=i("woOf"),M=i.n(D),L=i("2sCs"),j=i.n(L);j.a.defaults.withCredentials=!0;var z="https://m.maizuo.com/v4/api";var R="https://m.maizuo.com/v4/api";function O(t,e){var i=R+"/film/now-playing",s=M()({page:t,count:e});return j.a.get(i,{params:s}).then(function(t){return k.a.resolve(t.data)})}function H(t,e){var i=R+"/film/coming-soon",s=M()({page:t,count:e});return j.a.get(i,{params:s}).then(function(t){return k.a.resolve(t.data)})}var N={components:{MHeader:w,Swipe:b},data:function(){return{billboards:[],page:1,count:5,nowplaying:[],comingsoon:[]}},created:function(){this._getBillBoards(),this._getNowPlaying(),this._getComingSoon(),this.SET_CITY(g("cityName"))},methods:l()({_getBillBoards:function(){var t,e,i=this;(t=z+"/billboard/home",e=M()({_t:1517477555442}),j.a.get(t,{params:e}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(i.billboards=t.data.billboards)})},_getNowPlaying:function(){var t=this;O(this.page,this.count).then(function(e){0===e.status&&(t.nowplaying=e.data.films)})},_getComingSoon:function(){var t=this;H(this.page,this.count).then(function(e){0===e.status&&(t.comingsoon=e.data.films)})},formatDate:function(t){var e=new Date(t);return(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"月"+e.getDate()+"日上映"},goDetail:function(t){this.SET_TITLE(t.name),this.$router.push({path:"/film/"+t.id,params:{id:t.id}})}},Object(u.c)({SET_CITY:"SET_CITY",SET_TITLE:"SET_TITLE"}))},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("m-header"),t._v(" "),i("div",{staticClass:"handle-height"}),t._v(" "),i("swipe",{attrs:{billboards:t.billboards}}),t._v(" "),i("div",{staticClass:"now-playing"},[i("div",{staticClass:"film-list"},[i("ul",t._l(t.nowplaying,function(e,s){return i("li",{key:s,on:{click:function(i){t.goDetail(e)}}},[i("div",{staticClass:"move-item"},[i("div",{staticClass:"move-item-img"},[i("img",{attrs:{src:e.cover.origin}})]),t._v(" "),i("div",{staticClass:"desc"},[i("div",{staticClass:"desc-left"},[i("h6",[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v(t._s(e.cinemaCount)+"家影院上映"+t._s(e.watchCount)+"人购票")])]),t._v(" "),i("div",{staticClass:"desc-right"},[t._v("\n                "+t._s(e.grade)+"\n              ")])])])])})),t._v(" "),i("div",{staticClass:"btn-more"},[i("router-link",{attrs:{to:"/film/now-playing"}},[t._v("更多热映电影")])],1)])]),t._v(" "),i("div",{staticClass:"soon-playing"},[t._m(0),t._v(" "),i("div",{staticClass:"film-list"},[i("ul",t._l(t.comingsoon,function(e,s){return i("li",{key:s,on:{click:function(i){t.goDetail(e)}}},[i("div",{staticClass:"move-item"},[i("div",{staticClass:"move-item-img",style:{background:"url("+e.cover.origin+") no-repeat",backgroundSize:"cover"}}),t._v(" "),i("div",{staticClass:"desc"},[i("div",{staticClass:"desc-left"},[i("h6",[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"desc-right"},[t._v("\n                "+t._s(t.formatDate(e.premiereAt))+"\n              ")])])])])})),t._v(" "),i("div",{staticClass:"btn-more"},[i("router-link",{attrs:{to:"/film/coming-soon"}},[t._v("更多即将上映电影")])],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"div-line"},[e("div",{staticClass:"upcoming"},[this._v("\n        即将上映\n      ")])])}]};var F=i("VU/8")(N,x,!1,function(t){i("NWRP")},"data-v-6cfe50d2",null).exports,U={_t:1517535357898},G="https://m.maizuo.com/v4/api";var B={components:{MHeader:w},data:function(){return{city:[]}},created:function(){this.listHeight=[],this._getCity(),this._setMCookie()},watch:{city:function(){var t=this;setTimeout(function(){t._calculaterHeight()},20)}},methods:l()({_setMCookie:function(){_("cityId",34,1),g("cityName")?_("cityName",g("cityName"),1):_("cityName","厦门",1),_("gr_user_id","efa2b4ac-6328-4e30-a864-b29b0ba39b49",1),_("gr_session_id_929dfc63e100d573","39610c21-ee8b-43eb-a5ca-7326dcc9458a",1),_("co","maizuo",1),_("UM_distinctid","161461a758f126-05370819dc14b3-574e6e46-25800-161461a7590768",1),_("CNZZDATA1254948863","1737149624-1517296854-https%253A%252F%252Fwww.baidu.com%252F%7C1517640618",1)},_getCity:function(){var t,e,i=this;(t=G+"/city",e=M()({},U),j.a.get(t,{params:e}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(i.city=i._normallizeCity(t.data.cities))})},_normallizeCity:function(t){var e={hot:{title:"热门城市",items:[]}};t.forEach(function(t,i){13!==t.id&&12!==t.id&&11!==t.id&&10!==t.id||e.hot.items.push(t);var s=t.pinyin.slice(0,1);e[s]||(e[s]={title:s,items:[]}),e[s].items.push(t)});var i=[],s=[];for(var a in e){var n=e[a];n.title.match(/[a-zA-Z]/)?s.push(n):i.push(n)}return s.sort(function(t,e){return t.title.charCodeAt(0)-e.title.charCodeAt(0)}),i.concat([{title:"按字母排序",items:[{id:1e3,name:"A"},{id:1001,name:"B"},{id:1002,name:"C"},{id:1003,name:"D"},{id:1004,name:"E"},{id:1005,name:"F"},{id:1006,name:"G"},{id:1007,name:"H"},{id:1009,name:"J"},{id:1010,name:"K"},{id:1011,name:"L"},{id:1012,name:"M"},{id:1013,name:"N"},{id:1015,name:"P"},{id:1016,name:"Q"},{id:1017,name:"R"},{id:1018,name:"S"},{id:1019,name:"T"},{id:1022,name:"W"},{id:1023,name:"X"},{id:1024,name:"Y"},{id:1025,name:"Z"}]}],s)},_calculaterHeight:function(){this.listHeight=[];var t=this.$refs.listGroup,e=this.$refs.hotGroup,i=this.$refs.navGroup,s=e[0].clientHeight+i[0].clientHeight;this.listHeight.push(s);for(var a=0;a<t.length;a++){s+=t[a].clientHeight,this.listHeight.push(s)}},goToCity:function(t){var e,i,s;e=this.listHeight[t],i=0,s=setInterval(function(){window.scrollTo(i,i+100),(i+=100)>=e&&clearInterval(s)},10)},setCity:function(t){_("cityId",t.id,1),_("cityName",t.name,1),this.SET_TITLE("卖座电影"),this.SET_CITY(t.name),this.$router.push({path:"/"})}},Object(u.c)({SET_TITLE:"SET_TITLE",SET_CITY:"SET_CITY"}))},Z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city"},[i("m-header"),t._v(" "),i("div",{staticClass:"handle-height"}),t._v(" "),t._l(t.city.slice(0,1),function(e,s){return i("div",{key:s,ref:"hotGroup",refInFor:!0,staticClass:"list"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),i("div",{staticClass:"city-container"},[i("ul",t._l(e.items,function(e){return i("li",{key:e.id,on:{click:function(i){t.setCity(e)}}},[t._v(t._s(e.name))])}))])])}),t._v(" "),t._l(t.city.slice(1,2),function(e,s){return i("div",{key:"nav"+s,ref:"navGroup",refInFor:!0,staticClass:"list"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),i("div",{staticClass:"city-container"},[i("ul",t._l(e.items,function(e,s){return i("li",{key:e.id,on:{click:function(e){t.goToCity(s)}}},[t._v(t._s(e.name))])}))])])}),t._v(" "),t._l(t.city.slice(2,t.city.length),function(e,s){return i("div",{key:"city"+s,ref:"listGroup",refInFor:!0,staticClass:"list"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),i("div",{staticClass:"city-container"},[i("ul",t._l(e.items,function(e){return i("li",{key:e.id,on:{click:function(i){t.setCity(e)}}},[t._v(t._s(e.name))])}))])])})],2)},staticRenderFns:[]};var q=i("VU/8")(B,Z,!1,function(t){i("bDtz")},"data-v-58cea628",null).exports;function Y(){return i=0,s=0,document.body&&(i=document.body.scrollTop),document.documentElement&&(s=document.documentElement.scrollTop),(i-s>0?i:s)+("CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)===(t=0,e=0,document.body&&(t=document.body.scrollHeight),document.documentElement&&(e=document.documentElement.scrollHeight),t-e>0?t:e);var t,e,i,s}var J={props:{filmData:{type:Array,default:function(){return[]}},playingFlag:{type:Boolean,default:!0},playTimeFlag:{type:Boolean,default:!1}},components:{},mounted:function(){document.documentElement.scrollTop=0,window.addEventListener("scroll",this.getMore)},methods:l()({getMore:function(){Y()&&this.$emit("getMore")},goDetail:function(t){this.SET_TITLE(t.name),this.$router.push({path:"/film/"+t.id,params:{id:t.id}})},formatDate:function(t){var e=new Date(t);return(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"月"+e.getDate()+"日上映 "+["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][e.getDay()]}},Object(u.c)({SET_TITLE:"SET_TITLE"}))},V={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.filmData.length?i("div",{staticClass:"film-list"},[i("ul",t._l(t.filmData,function(e,s){return i("li",{key:s,on:{click:function(i){t.goDetail(e)}}},[i("div",{staticClass:"film-item"},[i("div",{staticClass:"film-item-img"},[i("img",{attrs:{src:e.poster.origin}})]),t._v(" "),i("div",{staticClass:"film-desc"},[i("div",{staticClass:"film-name"},[i("h6",[t._v(t._s(e.name))]),t._v(" "),t.playingFlag?i("strong",[t._v(t._s(e.grade))]):t._e()]),t._v(" "),i("p",{staticClass:"film-intro"},[t._v(t._s(e.intro))]),t._v(" "),t.playingFlag?i("p",{staticClass:"film-counts"},[i("span",[t._v(t._s(e.cinemaCount)+"家影院上映")]),i("span",[t._v(t._s(e.watchCount)+"人购票")])]):t._e(),t._v(" "),t.playTimeFlag?i("p",{staticClass:"film-premiere-date"},[i("span",[t._v(t._s(t.formatDate(e.premiereAt)))])]):t._e()])])])}))]):t._e()},staticRenderFns:[]};var W=i("VU/8")(J,V,!1,function(t){i("/8cM")},"data-v-53091f6c",null).exports,Q={props:{hasmore:{type:Object,default:function(){return{flag:!0,tip:"正在加载"}}}}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[this.hasmore.flag?e("img",{attrs:{src:i("3Hpq")}}):this._e(),this._v(" "),e("p",{staticClass:"desc"},[this._v(this._s(this.hasmore.tip))])])},staticRenderFns:[]};var K=i("VU/8")(Q,P,!1,function(t){i("ijI/")},"data-v-4ef89b57",null).exports,$={components:{MHeader:w,FilmList:W,loading:K},data:function(){return{nowplaying:[],page:1,count:5,totalpage:2,hasmore:{flag:!0,tip:"正在加载"}}},created:function(){this._getNowPlaying()},methods:{getMore:function(){var t=this;if(this.page++,this.page>this.totalpage)return this.hasmore.flag=!1,void(this.hasmore.tip="没有更多了");O(this.page,this.count).then(function(e){0===e.status&&(t.nowplaying=t.nowplaying.concat(e.data.films))})},_getNowPlaying:function(){var t=this;O(this.page,this.count).then(function(e){0===e.status&&(t.nowplaying=e.data.films,t.totalpage=e.data.page.total)})}}},X={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"now-playing"},[e("film-list",{attrs:{filmData:this.nowplaying},on:{getMore:this.getMore}}),this._v(" "),e("loading",{attrs:{hasmore:this.hasmore}})],1)},staticRenderFns:[]};var tt=i("VU/8")($,X,!1,function(t){i("ET0k")},"data-v-11047ffa",null).exports,et={components:{MHeader:w,FilmList:W,loading:K},created:function(){this._getComingSoon()},data:function(){return{comingsoon:[],page:1,count:5,totalpage:2,hasmore:{flag:!0,tip:"正在加载"}}},methods:{_getComingSoon:function(){var t=this;H(this.page,this.count).then(function(e){0===e.status&&(t.totalpage=e.data.page.total,t.comingsoon=e.data.films)})},getMore:function(){var t=this;if(this.page++,this.page>this.totalpage)return this.hasmore.flag=!1,void(this.hasmore.tip="没有更多了");H(this.page,this.count).then(function(e){0===e.status&&(t.comingsoon=t.comingsoon.concat(e.data.films))})}}},it={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"coming-soon"},[e("film-list",{attrs:{filmData:this.comingsoon,playingFlag:!1,playTimeFlag:!0},on:{getMore:this.getMore}}),this._v(" "),e("loading",{attrs:{hasmore:this.hasmore}})],1)},staticRenderFns:[]};var st=i("VU/8")(et,it,!1,function(t){i("JOoE")},"data-v-58bb5988",null).exports,at={components:{MHeader:w},created:function(){this.SET_CITY(g("cityName"))},methods:l()({},Object(u.c)({SET_CITY:"SET_CITY"}))},nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"film"},[e("m-header"),this._v(" "),e("div",{staticClass:"handle-height"}),this._v(" "),e("div",{staticClass:"film-list-wrap"},[e("div",{staticClass:"film-list-nav"},[e("router-link",{attrs:{to:"now-playing"}},[e("span",[this._v("正在热映")])]),this._v(" "),e("router-link",{attrs:{to:"coming-soon"}},[e("span",[this._v("即将上映")])])],1)]),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var ot=i("VU/8")(at,nt,!1,function(t){i("uIA0")},"data-v-776e79b8",null).exports,rt="https://m.maizuo.com/v4/api";var ct={data:function(){return{filmdetail:{}}},created:function(){this._getDetailFilm()},methods:{_getDetailFilm:function(){var t,e,i,s=this;(t=this.$route.params.id,e=rt+"/film/"+t,i=M()({_t:1517477555442}),j.a.get(e,{params:i}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(s.filmdetail=t.data.film)})},formatDate:function(t){var e=new Date(t);return(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"月"+e.getDate()+"日上映"}}},lt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail"},[i("div",{staticClass:"poster"},[t.filmdetail.cover?i("img",{attrs:{src:t.filmdetail.cover.origin}}):t._e()]),t._v(" "),i("div",{staticClass:"film-intro"},[i("p",{staticClass:"film-bt"},[t._v("影片简介")]),t._v(" "),i("div",{staticClass:"content"},[i("div",[i("strong",[t._v("导　　演：")]),i("p",[t._v(t._s(t.filmdetail.director))])]),t._v(" "),i("div",[i("strong",[t._v("主　　演：")]),i("p",{staticClass:"actors"},t._l(t.filmdetail.actors,function(e,s){return i("span",{key:s},[t._v(t._s(e.name)),s<t.filmdetail.actors.length-1?i("em",[t._v("|")]):t._e()])}))]),t._v(" "),i("div",[i("strong",[t._v("地区语言：")]),i("p",[t._v(t._s(t.filmdetail.language))])]),t._v(" "),i("div",[i("strong",[t._v("类　　型：")]),i("p",[t._v(t._s(t.filmdetail.category))])]),t._v(" "),i("div",[i("strong",[t._v("上映日期：")]),i("p",[t._v(t._s(t.formatDate(t.filmdetail.premiereAt)))])]),t._v(" "),i("div",{staticClass:"intro"},[t._v("\n        "+t._s(t.filmdetail.synopsis)+"\n      ")])]),t._v(" "),i("div",{staticClass:"operation"},[i("router-link",{staticClass:"btn-buy-ticket",attrs:{to:{name:"cinemawithid",params:{id:t.filmdetail.id}}}},[t._v("立即购票")])],1)])])},staticRenderFns:[]};var ut=i("VU/8")(ct,lt,!1,function(t){i("GYdp")},"data-v-716e3118",null).exports;j.a.defaults.withCredentials=!0;var dt="https://m.maizuo.com/v4/api";function mt(t,e){var i=dt+"/schedule",s=M()({_t:1517477555442,film:t,cinema:e});return j.a.get(i,{params:s}).then(function(t){return k.a.resolve(t.data)})}var ht={props:{schedule:{type:Array,default:function(){return[]}},noschedule:{type:Boolean,default:!1}},data:function(){return{currentIndex:0}},created:function(){},methods:l()({formatDate:function(t){var e=new Date(t);return(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},showTiemSchedule:function(t){this.currentIndex=t},chooseSit:function(t){if(this.SET_GO_SEATS(!0),this.SET_SCHEDULE_ID(t.id),g("isMainAccount"))return this.SET_TITLE(t.film.name),void this.$router.push({name:"scheduleDetail",params:{scheduleid:t.id}});this.SET_TITLE("登录"),this.$router.push({path:"/login"})}},Object(u.c)({SET_TITLE:"SET_TITLE",SET_GO_SEATS:"SET_GO_SEATS",SET_SCHEDULE_ID:"SET_SCHEDULE_ID"}))},vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"schedule"},[t.schedule.length?i("div",{staticClass:"has-schedule"},[i("div",{staticClass:"schedule-top"},t._l(t.schedule,function(e,s){return i("span",{key:s,class:{active:s===t.currentIndex},attrs:{href:"javascript:;"},on:{click:function(e){t.showTiemSchedule(s)}}},[t._v(t._s(e.title))])})),t._v(" "),i("div",{staticClass:"schedule-time"},t._l(t.schedule,function(e,s){return s===t.currentIndex?i("ul",{key:s},t._l(e.items,function(e,s){return i("li",{key:s,on:{click:function(i){t.chooseSit(e)}}},[i("div",{staticClass:"s-t-l"},[i("p",[t._v(t._s(t.formatDate(e.showAt)))]),t._v(" "),i("p",{staticClass:"end"},[t._v("预计"+t._s(t.formatDate(e.showAt+60*e.film.mins*1e3))+"结束/"+t._s(e.imagery)+"/"+t._s(e.hall.name))])]),t._v(" "),i("div",{staticClass:"s-t-r"},[i("strong",[t._v("￥"+t._s(e.price.maizuo))]),t._v(" "),i("span",[t._v("￥"+t._s(e.price.cinema))])]),t._v(" "),i("i",{staticClass:"iconfont icon-right"})])})):t._e()}))]):t._e(),t._v(" "),t.schedule.length||t.noschedule?t._e():i("div",[i("p",{staticStyle:{"text-align":"center","line-height":"50px"}},[t._v("最近三天暂无排期")])]),t._v(" "),t.noschedule?i("div",[i("p",{staticStyle:{"text-align":"center","line-height":"50px"}},[t._v("当前影院暂无排期")])]):t._e()])},staticRenderFns:[]};var ft={components:{Loading:K,Schedule:i("VU/8")(ht,vt,!1,function(t){i("HFS4")},"data-v-5dba1ea6",null).exports},data:function(){return{}},props:{cinema:{type:Array,default:function(){return[]}},filmid:{type:[Number,String],default:0},showpflag:{type:Boolean,default:!0}},methods:{showCinema:function(t){for(var e=this.$refs.ListGroup[t].getElementsByClassName("content")[0],i=e.getElementsByClassName("cinema-wrap"),s=0,a=0;a<i.length;a++)s+=e.getElementsByClassName("cinema-wrap")[a].offsetHeight;var n=0;m(e,"show")?(n=0,h(e,"show")):(n=s,d(e,"show")),e.style.height=n+"px"},showEvent:function(t){this.$emit("showSchdule",t)}}},pt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cinema-list"},[t._l(t.cinema,function(e,s){return i("div",{key:s,ref:"ListGroup",refInFor:!0,staticClass:"list"},[i("div",{staticClass:"title",on:{click:function(e){t.showCinema(s)}}},[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),i("div",{staticClass:"content"},t._l(e.items,function(e){return i("div",{key:e.id,staticClass:"cinema-wrap"},[i("div",{staticClass:"top",on:{click:function(i){t.showEvent(e,i)}}},[i("div",{staticClass:"cinema-wrap-left"},[i("h6",[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v(t._s(e.address))]),t._v(" "),i("p",[t._v("距离未知 "),t.showpflag?i("span",[t._v("| 剩余"+t._s(e.avaliableSchedule)+"场")]):t._e()])]),t._v(" "),i("div",{staticClass:"cinema-wrap-right"},[t.showpflag?i("strong",[t._v("￥"+t._s(e.minimumPrice))]):t._e()])]),t._v(" "),e.schedule||e.noschedule?i("div",{staticClass:"bottom"},[i("schedule",{attrs:{schedule:e.schedule,noschedule:e.noschedule}})],1):t._e()])}))])}),t._v(" "),t.cinema.length?t._e():i("loading")],2)},staticRenderFns:[]};var _t=i("VU/8")(ft,pt,!1,function(t){i("o2yF")},"data-v-f2b371e8",null).exports,gt={created:function(){this._getCinema(),this.filmid=this.$route.params.id},data:function(){return{cinema:[],filmid:0,sheduleTime:[]}},components:{CinemaList:_t},methods:{showSchdule:function(t){var e=this;console.log(t);var i=event.currentTarget.parentNode;mt(this.filmid,t.id).then(function(s){0===s.status&&(e.sheduleTime=e._normallizeSchdule(s.data.schedules,t.id),e.$nextTick(function(){var t=i.getElementsByClassName("bottom")[0].offsetHeight,e=parseInt(i.parentNode.getAttribute("style").split(":")[1]);i.parentNode.style.height=t+e+"px"}))})},_normallizeSchdule:function(t,e){var i=new Date((new Date).setHours(23,59,59))/1e3*1e3,s=i+864e5,n=i+1728e5,o={};t.forEach(function(t){var e=t.showAt;if(e<=i){o.today||(o.today={title:"今天",sort:"a",items:[]}),o.today.items.push(t)}else if(e>i&&e<s){var a="tomorrow";o[a]||(o[a]={title:"明天",sort:"b",items:[]}),o[a].items.push(t)}else if(e>s&&e<n){var r="afterTomorrow";o[r]||(o[r]={title:"后天",sort:"c",items:[]}),o[r].items.push(t)}});var r=[];for(var c in o){var l=o[c];r.push(l)}r.sort(function(t,e){return t.sort.charCodeAt(0)-e.sort.charCodeAt(0)});for(var u=0;u<this.cinema.length;u++)for(var d=this.cinema[u],m=0;m<d.items.length;m++)t.length?d.items[m].id===t[0].cinema.id&&a.a.set(d.items[m],"schedule",r):d.items[m].id===e&&a.a.set(d.items[m],"noschedule",!0)},_getCinema:function(){var t,e,i,s=this;(t=this.$route.params.id,e=dt+"/film/"+t+"/cinema",i=M()({_t:1517477555442}),j.a.get(e,{params:i}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(s.cinema=s._normallizeCinema(t.data.cinemas))})},_normallizeCinema:function(t){var e={};t.forEach(function(t){var i=t.district.name;e[i]||(e[i]={title:i,pinyin:t.district.pinyin,items:[]}),e[i].items.push(t)});var i=[];for(var s in e){var a=e[s];i.push(a)}return i.sort(function(t,e){return t.pinyin.charCodeAt(0)-e.pinyin.charCodeAt(0)}),i}}},Ct={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cinema"},[e("cinema-list",{attrs:{cinema:this.cinema,filmid:this.filmid},on:{showSchdule:this.showSchdule}})],1)},staticRenderFns:[]};var At=i("VU/8")(gt,Ct,!1,function(t){i("opo8")},"data-v-7e9be65b",null).exports,yt=i("KPSb"),wt=i.n(yt);j.a.defaults.withCredentials=!0;var Tt="https://m.maizuo.com/v4/api";var Et={components:{MHeader:w},computed:l()({},Object(u.b)(["goseats","scheduleid"])),data:function(){return{vetifyflag:!1,tel:"",type:"2",code:!1,pwd:"",error:"",imgcode:{url:"",key:""},codeval:"",yzmtip:"发送验证码",sendresult:!1}},created:function(){this.SET_CITY(g("cityName")),this.SET_TITLE("登录")},methods:l()({checkTel:function(){var t=event.currentTarget.value;/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?this.vetifyflag=!0:this.vetifyflag=!1},sendCode:function(){var t,e,i,s,a=this;(t=this.tel,e=this.type,i=Tt+"/code",s=M()({mobile:t,type:e}),j.a.post(i,s).then(function(t){return k.a.resolve(t.data)})).then(function(t){return 0===t.status?(a.code=!0,a.sendresult=!0,void a.cutDown()):-23107===t.status?(a.error=t.msg,void(a.sendresult=!1)):void 0})},cutDown:function(){var t=this,e=60,i=setInterval(function(){--e<=0&&(t.sendresult=!1,clearInterval(i)),t.yzmtip=e+"秒后重发"},1e3)},login:function(){var t,e,i,s,a,n,o=this;this.vetifyflag?""!==this.pwd?(t=this.codeval,e=this.imgcode.key,i=this.tel,s=this.pwd,a=Tt+"/login",n=M()({code:t,codeKey:e,loginType:1,password:wt()(s),username:i}),j.a.post(a,n).then(function(t){return k.a.resolve(t.data)})).then(function(t){if(0!==t.status)return o.error=t.msg,void(-23117===t.status&&(e=Tt+"/login/captcha",i=M()({_t:1517477555442}),j.a.get(e,{params:i}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(o.imgcode.url=t.data.url,o.imgcode.key=t.data.key)}));var e,i;0===t.status&&(_("isMainAccount",t.data.data.isMainAccount,1/24),_("mobile",t.data.data.mobile,1/24),_("sessionKey",t.data.data.sessionKey,1/24),_("userId",t.data.data.id,1/24),_("userName",t.data.data.name,1/24),o.goseats?o.$router.push({name:"scheduleDetail",params:{scheduleid:o.scheduleid}}):(o.SET_TITLE("我的"),o.$router.push({path:"/center"})))}):this.error="密码不能为空":this.error="请输入正确手机号或邮箱"}},Object(u.c)({SET_TITLE:"SET_TITLE",SET_CITY:"SET_CITY"}))},St={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("m-header"),t._v(" "),i("div",{staticClass:"handle-height"}),t._v(" "),i("div",{staticClass:"form"},[i("div",{staticClass:"form-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],attrs:{type:"text",placeholder:"输入手机号",maxlength:"11"},domProps:{value:t.tel},on:{keyup:function(e){t.checkTel(e)},input:function(e){e.target.composing||(t.tel=e.target.value)}}}),t._v(" "),t.vetifyflag?i("div",{staticClass:"send-yzm"},[t.sendresult?t._e():i("a",{attrs:{href:"javascript:;"},on:{click:t.sendCode}},[t._v("发送验证码")]),t._v(" "),t.sendresult?i("span",{attrs:{href:"javascript:;"}},[t._v(t._s(t.yzmtip))]):t._e(),t._v(" "),i("i",{staticClass:"angle"})]):t._e()]),t._v(" "),i("div",{staticClass:"form-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"输入验证码/密码"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),t.imgcode.url?i("div",{staticClass:"form-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.codeval,expression:"codeval"}],attrs:{type:"text",placeholder:"输入图形验证码"},domProps:{value:t.codeval},on:{input:function(e){e.target.composing||(t.codeval=e.target.value)}}}),t._v(" "),i("img",{staticClass:"imgcode",attrs:{src:t.imgcode.url}})]):t._e(),t._v(" "),i("p",{staticClass:"msg-error"},[t._v(t._s(t.error))]),t._v(" "),i("div",{staticClass:"form-submit"},[i("a",{attrs:{href:"javascript:;"},on:{click:t.login}},[t._v("登录")])])])],1)},staticRenderFns:[]};var bt=i("VU/8")(Et,St,!1,function(t){i("iY/i")},"data-v-4ed8004c",null).exports,It="https://m.maizuo.com/v4/api";j.a.defaults.withCredentials=!0;var kt={components:{MHeader:w},data:function(){return{user:{}}},created:function(){this._isLogin(),this._getMe()},methods:l()({_isLogin:function(){g("isMainAccount")?this.SET_TITLE("个人中心"):this.$router.push({path:"/login"})},_getMe:function(){var t,e,i=this;(t=It+"/me",e=M()({_t:1517477555442}),j.a.get(t,{params:e}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(i.user=t.data.user)})},exit:function(){C("isMainAccount"),C("mobile"),C("sessionKey"),C("userId"),C("userName"),this.$router.push({path:"/login"})}},Object(u.c)({SET_TITLE:"SET_TITLE"}))},Dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"center"},[i("m-header"),t._v(" "),i("div",{staticClass:"handle-height"}),t._v(" "),i("div",{staticClass:"top"},[i("div",{staticClass:"user-msg"},[i("img",{staticClass:"avatar",attrs:{src:t.user.avatorUrl}}),t._v(" "),i("div",{staticClass:"detail"},[i("p",[t._v(t._s(t.user.name))]),t._v(" "),i("p",[t._v("ID："+t._s(t.user.id))]),t._v(" "),i("a",{attrs:{href:"javascript:;"},on:{click:t.exit}},[t._v("退出")])])])]),t._v(" "),i("div",{staticClass:"menu-contain"},[i("div",{staticClass:"menu-wrapper"},[i("span",[t._v("影票订单")]),t._v(" "),i("div",{staticClass:"pull-right"},[i("span",[t._v(t._s(t.user.orderCount)+" 张")]),t._v(" "),i("i",{staticClass:"iconfont icon-right"})])]),t._v(" "),i("div",{staticClass:"menu-wrapper"},[i("span",[t._v("影票待付订单")]),t._v(" "),i("div",{staticClass:"pull-right"},[i("span",[t._v(t._s(t.user.preorderCount)+" 张")]),t._v(" "),i("i",{staticClass:"iconfont icon-right"})])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"menu-wrapper cash"},[i("span",[t._v("我的现金券")]),t._v(" "),i("div",{staticClass:"pull-right"},[t.user.wallet?i("span",[t._v(t._s(t.user.wallet.coin)+" 张")]):t._e(),t._v(" "),i("i",{staticClass:"iconfont icon-right"})])]),t._v(" "),i("div",{staticClass:"menu-wrapper yue"},[i("span",[t._v("账户余额")]),t._v(" "),i("div",{staticClass:"pull-right"},[t.user.wallet?i("span",[t._v(t._s(t.user.wallet.couponCount)+" 张")]):t._e(),t._v(" "),i("i",{staticClass:"iconfont icon-right"})])]),t._v(" "),i("div",{staticClass:"menu-wrapper ka"},[i("span",[t._v("我的卖座卡")]),t._v(" "),i("div",{staticClass:"pull-right"},[t.user.wallet?i("span",[t._v(t._s(t.user.wallet.cardCount)+" 张")]):t._e(),t._v(" "),i("i",{staticClass:"iconfont icon-right"})])]),t._v(" "),t._m(1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-wrapper"},[e("span",[this._v("商城订单")]),this._v(" "),e("div",{staticClass:"pull-right"},[e("i",{staticClass:"iconfont icon-right"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-wrapper"},[e("span",[this._v("设置")]),this._v(" "),e("div",{staticClass:"pull-right"},[e("i",{staticClass:"iconfont icon-right"})])])}]};var Mt=i("VU/8")(kt,Dt,!1,function(t){i("jU8W")},"data-v-66799746",null).exports,Lt={components:{MHeader:w,Loading:K},data:function(){return{info:null,rownum:[],seats:[],row:0,cloumn:0,hasmore:{flag:!0,tip:"正在加载座位"},myseats:[],allprice:0,price:0,errormsg:""}},computed:l()({},Object(u.b)(["scheduleid"])),created:function(){this._getScheduleFilm(),this._getScheduleSit()},methods:l()({_getScheduleFilm:function(){var t,e,i,s=this;(t=this.$route.params.scheduleid,e=dt+"/schedule/"+t,i=M()({_t:1517477555442}),j.a.get(e,{params:i}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(s.info=t.data.schedule,s.price=t.data.schedule.price.maizuo,s.SET_TITLE(t.data.schedule.film.name))})},_getScheduleSit:function(){var t,e,i,s=this;""!==this.errormsg&&(this.errormsg=""),(t=this.$route.params.scheduleid,e=dt+"/seating-chart/"+t,i=M()({_t:1517477555442}),j.a.get(e,{params:i}).then(function(t){return k.a.resolve(t.data)})).then(function(t){if(0===t.status){var e=t.data.seatingChart.height;s.row=e,s.cloumn=t.data.seatingChart.width;for(var i=0;i<e;i++)s.rownum.push(i);s.seats=t.data.seatingChart.seats}else 0!==t.status&&(s.errormsg=t.msg)})},formatDate:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},chooseSit:function(t){var e=this;t.isOccupied||(m(event.currentTarget,"choose")?(h(event.currentTarget,"choose"),this.myseats.length&&this.myseats.forEach(function(i,s){i.row===t.row&&i.column===t.column&&(e.myseats=function(t,e){for(var i=[],s=0;s<e.length;s++)s!==t&&i.push(e[s]);return i}(s,e.myseats),e.allprice=e.price*e.myseats.length)})):(d(event.currentTarget,"choose"),this.myseats.push({row:t.row,column:t.column}),this.allprice=this.price*this.myseats.length))}},Object(u.c)({SET_TITLE:"SET_TITLE"}))},jt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"seats"},[i("m-header"),t._v(" "),i("div",{staticClass:"handle-height"}),t._v(" "),i("div",{staticClass:"infomation"},[i("div",{staticClass:"info-left"},[t.info?i("h6",[t._v(t._s(t.info.cinema.name))]):t._e(),t._v(" "),t.info?i("p",[t._v(t._s(t.formatDate(t.info.showAt))+" "+t._s(t.info.imagery))]):t._e()]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"seating-chart"},[i("div",{staticClass:"map"},[i("div",{staticClass:"screen"},[t.info?i("span",[t._v(t._s(t.info.hall.name))]):t._e(),t._v("银幕方向\n      ")]),t._v(" "),t.seats.length?i("div",{staticClass:"sit"},[t.rownum?i("div",{staticClass:"rowtip"},t._l(t.rownum,function(e,s){return i("div",{key:s,style:{width:"25px",height:"25px",top:25*s+"px"}},[t._v(t._s(e+1))])})):t._e(),t._v(" "),i("div",{staticClass:"seat-order",style:{width:25*t.cloumn+"px",marginLeft:12.5*-t.cloumn+"px"}},t._l(t.seats,function(e,s){return i("div",{key:s,staticClass:"seat",class:{haspeople:e.isOccupied},style:{width:"20px",height:"20px",top:25*(e.row-1)+"px",left:25*(e.column-1)+"px"},attrs:{"data-seat-row":e.row,"data-seat-cloumn":e.column},on:{click:function(i){t.chooseSit(e,i)}}})}))]):t._e(),t._v(" "),""!=t.errormsg?i("div",{staticClass:"sit-error"},[i("span",[t._v(t._s(t.errormsg))]),i("a",{attrs:{href:"javascript:;"},on:{click:t._getScheduleSit}},[t._v("点击刷新")])]):t._e(),t._v(" "),t.seats.length||""!==t.errormsg?t._e():i("loading",{attrs:{hasmore:t.hasmore}})],1)]),t._v(" "),i("div",{staticClass:"choose-sit-info"},[i("div",{staticClass:"sit-show"},t._l(t.myseats,function(e,s){return i("span",{key:s},[t._v(t._s(e.row)+"排"+t._s(e.column)+"座")])})),t._v(" "),i("div",{staticClass:"price"},[i("div",{staticClass:"price-left"},[i("p",[t._v("￥"+t._s(t.allprice))]),t._v(" "),i("span",[t._v("=￥"+t._s(t.price)+"X"+t._s(t.myseats.length))])]),t._v(" "),i("div",{staticClass:"price-right"},[t._v("\n        确认\n      ")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info-right"},[e("a",{attrs:{href:"javascript:;"}},[this._v("换一场")])])}]};var zt=i("VU/8")(Lt,jt,!1,function(t){i("kMUo")},"data-v-45e1d5e2",null).exports,Rt={created:function(){this.SET_TITLE("全部影院"),this._getAreaCinema()},components:{MHeader:w,CinemaList:_t},data:function(){return{cinema:[]}},methods:l()({_getAreaCinema:function(){var t,e,i=this;(t=dt+"/cinema",e=M()({_t:1517477555442}),j.a.get(t,{params:e}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(i.cinema=i._normallizeCinema(t.data.cinemas))})},_normallizeCinema:function(t){var e={};t.forEach(function(t){var i=t.district.name;e[i]||(e[i]={title:i,pinyin:t.district.pinyin,items:[]}),e[i].items.push(t)});var i=[];for(var s in e){var a=e[s];i.push(a)}return i.sort(function(t,e){return t.pinyin.charCodeAt(0)-e.pinyin.charCodeAt(0)}),i},showSchdule:function(t){console.log(t),this.$router.push({name:"detailcinema",params:{cinemaid:t.id}})}},Object(u.c)({SET_TITLE:"SET_TITLE"}))},Ot={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"all-cinema"},[e("m-header"),this._v(" "),e("div",{staticClass:"handle-height"}),this._v(" "),e("cinema-list",{attrs:{cinema:this.cinema,showpflag:!1},on:{showSchdule:this.showSchdule}})],1)},staticRenderFns:[]};var Ht=i("VU/8")(Rt,Ot,!1,function(t){i("XAPu")},"data-v-18befa11",null).exports,Nt={components:{MHeader:w},data:function(){return{cinemadetail:null,cinemaid:0}},created:function(){this._getCinemaDetail(),this._getCinemaItem()},methods:l()({_getCinemaDetail:function(){var t,e,i,s=this;(t=this.$route.params.cinemaid,e=dt+"/cinema/"+t,i=M()({_t:1517477555442}),j.a.get(e,{params:i}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(s.cinemadetail=t.data.cinema,console.log(t.data.cinema))})},_getCinemaItem:function(){var t,e,i;(t=this.$route.params.cinemaid,e=dt+"/cinema/"+t+"/item",i=M()({_t:1517477555442}),j.a.get(e,{params:i}).then(function(t){return k.a.resolve(t.data)})).then(function(t){console.log(t)})},takeSit:function(){this.SET_TITLE(this.cinemadetail.name),this.$router.push({path:"/allcinema/"+this.cinemadetail.id+"/film",params:{cinemaid:this.cinemadetail.id}})}},Object(u.c)({SET_TITLE:"SET_TITLE"}))},xt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cinema-detail"},[i("m-header"),t._v(" "),i("div",{staticClass:"handle-height"}),t._v(" "),i("div",{staticClass:"cinemaimg"},[t.cinemadetail?i("img",{attrs:{src:t.cinemadetail.logoUrl}}):t._e()]),t._v(" "),i("div",{staticClass:"box-wrap"},[i("div",{staticClass:"box"},[i("p",[t._v("订座票")]),t._v(" "),i("p",[t._v("选好场次及座位，到影院自助机取票")]),t._v(" "),i("a",{staticClass:"btn-seat",attrs:{href:"javascript:;"},on:{click:t.takeSit}},[t._v("立即订座")])]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"box address"},[i("p",[t._v("地址")]),t._v(" "),t.cinemadetail?i("p",[t._v(t._s(t.cinemadetail.address))]):t._e()]),t._v(" "),i("div",{staticClass:"box address"},[i("p",[t._v("电话")]),t._v(" "),t.cinemadetail?i("p",[t._v(t._s(t.cinemadetail.telephones[0]))]):t._e()])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box"},[e("p",[this._v("通兑票")]),this._v(" "),e("p",[this._v("有效期内到影院前台兑换影票")]),this._v(" "),e("a",{staticClass:"btn-ticket",attrs:{href:"javascript:;"}},[this._v("立即订票")])])}]};var Ft=i("VU/8")(Nt,xt,!1,function(t){i("/5Wq")},"data-v-02c87f2d",null).exports,Ut={components:{MHeader:w},data:function(){return{filmlist:[],currentIndex:0,currentIndex2:0,schedulelist:null,filmschedule:[],filmpaiqi:[]}},created:function(){this._getCinemaFilm(),this._getSchedule()},methods:{_getCinemaFilm:function(){var t,e,i,s=this;(t=this.$route.params.cinemaid,e=rt+"/cinema/"+t+"/film",i=M()({_t:1518415239215}),j.a.get(e,{params:i}).then(function(t){return k.a.resolve(t.data)})).then(function(t){0===t.status&&(s.filmlist=t.data.filmList)})},_getSchedule:function(){var t=this;mt(0,this.$route.params.cinemaid).then(function(e){0===e.status&&t._normallizeSchedule(e.data.schedules)})},_normallizeSchedule:function(t){var e={};t.forEach(function(t){var i=t.film.id;e[i]||(e[i]={name:t.film.name,id:i,items:[]}),e[i].items.push(t)}),this.schedulelist=e;var i=[];for(var s in e)i.push(e[s]);this._normallizeDetailSchedule(i[0].id)},_normallizeDetailSchedule:function(t){for(var e=this.schedulelist[t],i={},s=0;s<e.items.length;s++){var n=e.items[s],o=this.formatDate(n.showAt);a.a.set(n,"times",o)}for(var r=0;r<e.items.length;r++){var c=e.items[r],l=c.times;i[l]||(i[l]={name:c.film.name,title:l,items:[]}),i[l].items.push(c)}var u=[];for(var d in i)u.push(i[d]);this.filmpaiqi=u},formatDate:function(t){var e=new Date(t);return(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"月"+e.getDate()+"日"},formatDate2:function(t){var e=new Date(t);return(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},chooseItem:function(t,e){this.currentIndex=t,this._normallizeDetailSchedule(e.filmID)},chooseDayFilm:function(t){this.currentIndex2=t},chooseSit:function(t){this.$router.push({path:"/seats/"+t.id,params:{scheduleid:t.id}})}}},Gt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cinema-film"},[i("m-header"),t._v(" "),i("div",{staticClass:"handle-height"}),t._v(" "),i("div",{staticClass:"swiper-wrap swiper-wrap-common"},[i("div",{staticClass:"swiper-content"},[i("div",{staticClass:"list"},t._l(t.filmlist,function(e,s){return i("div",{key:s,staticClass:"swiper-item",on:{click:function(i){t.chooseItem(s,e)}}},[i("img",{attrs:{src:e.minposterAddress}}),t._v(" "),s===t.currentIndex?i("p",[t._v(t._s(e.filmName))]):t._e(),t._v(" "),s!==t.currentIndex?i("span",{staticClass:"mask"}):t._e()])}))])]),t._v(" "),i("div",{staticClass:"swiper-wrap-common schedule-container"},[i("div",{staticClass:"swiper-content"},[i("div",{staticClass:"list"},t._l(t.filmpaiqi,function(e,s){return i("div",{key:s,staticClass:"swiper-item",on:{click:function(e){t.chooseDayFilm(s)}}},[i("a",{class:{on:s===t.currentIndex2},attrs:{href:"javascript:;"}},[t._v(t._s(e.title))])])}))])]),t._v(" "),i("div",{staticClass:"content"},t._l(t.filmpaiqi,function(e,s){return s===t.currentIndex2?i("div",{key:s,staticClass:"content-wrapper"},t._l(e.items,function(e,s){return i("div",{key:s,staticClass:"c-list",on:{click:function(i){t.chooseSit(e)}}},[i("div",{staticClass:"left"},[i("p",[t._v(t._s(t.formatDate2(e.showAt)))]),t._v(" "),i("p",[t._v("预计"+t._s(t.formatDate2(e.showAt+60*e.film.mins*1e3))+"结束/"+t._s(e.film.language)+t._s(e.imagery)+"/"+t._s(e.hall.name))])]),t._v(" "),i("div",{staticClass:"right"},[i("strong",[t._v("￥"+t._s(e.price.cinema))]),t._v(" "),i("p",[t._v("￥"+t._s(e.price.maizuo))])]),t._v(" "),i("i",{staticClass:"iconfont icon-right"})])})):t._e()}))],1)},staticRenderFns:[]};var Bt=i("VU/8")(Ut,Gt,!1,function(t){i("WwDe")},"data-v-40585071",null).exports;a.a.use(r.a);var Zt,qt=new r.a({routes:[{path:"/",redirect:"/home"},{path:"/home",component:F},{path:"/city",component:q},{path:"/film",component:ot,redirect:"/film/now-playing",children:[{path:"now-playing",component:tt},{path:"coming-soon",component:st},{path:":id",component:ut},{path:":id/cinema",name:"cinemawithid",component:At}]},{path:"/login",component:bt},{path:"/center",component:Mt},{path:"/seats/:scheduleid",name:"scheduleDetail",component:zt},{path:"/allcinema",component:Ht},{path:"/allcinema/:cinemaid",name:"detailcinema",component:Ft},{path:"/allcinema/:cinemaid/film",name:"cinemafilm",component:Bt}]}),Yt=(i("34KM"),i("iDdd")),Jt=i.n(Yt),Vt=(i("D0oh"),i("bOdI")),Wt=i.n(Vt),Qt=(Zt={},Wt()(Zt,"SET_TITLE",function(t,e){t.title=e}),Wt()(Zt,"SET_CITY",function(t,e){t.city=e}),Wt()(Zt,"SET_GO_SEATS",function(t,e){t.goseats=e}),Wt()(Zt,"SET_SCHEDULE_ID",function(t,e){t.scheduleid=e}),Zt),Pt=i("mUbh"),Kt=function(t){return t.title},$t=function(t){return t.city},Xt=function(t){return t.goseats},te=function(t){return t.scheduleid},ee={title:"卖座电影",city:"厦门",goseats:!1,scheduleid:0};a.a.use(u.a);var ie=new u.a.Store({actions:Pt,getters:s,mutations:Qt,state:ee});a.a.config.productionTip=!1,Jt.a.attach(document.body),new a.a({el:"#app",router:qt,store:ie,components:{App:o},template:"<App/>"})},NWRP:function(t,e){},RieN:function(t,e){},WwDe:function(t,e){},XAPu:function(t,e){},XX31:function(t,e){},bDtz:function(t,e){},"iY/i":function(t,e){},"ijI/":function(t,e){},jU8W:function(t,e){},kMUo:function(t,e){},mUbh:function(t,e){},o2yF:function(t,e){},opo8:function(t,e){},pvG3:function(t,e){},uIA0:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1ac069ea58145ec07fbf.js.map